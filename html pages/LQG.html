<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Robotics Portfolio</title>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <div class="topnav">
      <a href="Resume.html">About Me</a>
      <a href="Projects.html">Projects</a>
      <a href="Contact.html">Contact</a>
    </div>

      <div class="project-title">
        <div class="my-name">System Automatic Control</div>
        <div class="my-title"> LQG Control of a Satellite </div>

        <div><img src="img/LQBF.png" class="image"></div>

        <h1>Introduction</h1>
        This project aims to model the physical behavior of a true satellite and to generate robust control laws for AOCS. In addition to the central body and the solar panels, the satellite is composed of 4 long flexible appendices oriented in different directions and fixed at different positions distinct from the center of gravity.
      </br> </br>
        During the mission, four different modes with specific requirements can be operated: acquisition and safehold mode, coarse transition mode, normal mode and orbit control mode. The scientific mission is performed during the normal mode. It requires accurate pointing and therefore a particularly high level of performance and robustness of the AOCS.

      </br></br>
        The objectives of the project are threefold:
        <div class="list">
        <ul>
          <li> implement a realistic model of the satellite including actuator, sensor and estimator,
          <li> design control laws to ensure a fine pointing during normal operation,
          <li> validate the stability and the performance properties of the controlled system.
        </ul>
      </div>



        <h1>General Idea</h1>
        The main idea of the LQG control is to minimize the following function: <img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cbacff1424747ed9851282866a974cf6fa86b0ff" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.338ex; width:25.221ex; height:6.176ex;" alt="{\displaystyle J=\int _{0}^{T}(z^{t}Qz+u^{t}Ru)dt}">.
      </br > The state feedback controller generated by an LQG approach results from a tradeoff between speed and energy consumption. We can choose which criteria to optimize through the weights put into the matrix <math><mi>Q</mi></math> and <math><mi>R</mi></math>.
        <h1>Implementing the LQG approach on Matlab</h1>
        First, we start by importing our Simulink model of the satellite:
        <pre><code>
warning off;
sys=linmod('LQ');
sys=ss(sys.a,sys.b,sys.c,sys.d);
        </code></pre>
Then we set up different values of <math><mi>Q</mi></math> and <math><mi>R</mi></math> in order to evaluate the settings and to choose the best one:
        <pre><code>
qtheta=[1 10 100];
qomega=[100 10 1];
R=[40 50 60];
        </code></pre>

Finally, we define and test the state feedback controller with different combinations of the previous parameters.
        <pre><code>
for i=1:3

    Q=[[qtheta(2) 0];[0 qomega(i)]];
    K=lqr(sys.a,sys.b,Q,R);
    closed_loop=feedback(sys,K);

    h = inv(dcgain(closed_loop(1,1)));

    sys_closed_loop=linmod('LQBF');
    sys_closed_loop=ss(sys_closed_loop.a,sys_closed_loop.b,sys_closed_loop.c,sys_closed_loop.d);

end
        </code></pre>




        <h1>Results</h1>
        <img src="img/LQG.png" class="image">
        As we can see, some settings of  <math><mi>Q</mi></math> and <math><mi>R</mi></math> produce better results than others.
        This is why the choice of  <math><mi>Q</mi></math> and <math><mi>R</mi></math> is very important for the LQG approach.

      </br> </br> For example, we can see that the curve in red represents a slow controller which uses a lot of energy whereas the blue curve represents faster controller that uses less energy.
    </br> </br> For this academic exercise, the matrix <math><mi>Q</mi></math> and <math><mi>R</mi></math> were tuned manually but genetic algortihms or other optimization algorithms can be used.











        </br> </br>





      </div>











  </div>
</body>
</html>
