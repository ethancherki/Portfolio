<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Robotics Portfolio</title>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <div class="topnav">
      <a href="Resume.html">About Me</a>
      <a href="Projects.html">Robotics Projects</a>
      <a href="Contact.html">Contact</a>
    </div>

      <div class="project-title">
        <div class="my-name">Personal Project</div>
        <div class="my-title"> Modeling, Control and Simulation of a Quadcopter</div>

        <div><img src="img/Bebop.jpg" class="image"></div>

        <h1>Introduction</h1>
        Modeling and simulating the behavior of a drone to design a complete GNC software requires to understand how a quadcopter works.

      </br></br>Qualitatively speaking, a drone leans to forward or to move to the side. In order to do so, it has to reduce the rotational speed of the front propellers and increase the speed of the back propellers.
      </br></br>Moreover, a quadcopter has two propellers that spin clockwise and the two others spin counter-clockwise. This way, the drone can spin while performing a stationnary flight by reducing the speed of two propellers and increasing the speed of the two others.

      <h1>Modeling</h1>
      <h2>Mathematical/Physical modeling of the motion dynamics</h2>
      <div class="list">
        <ul><li> <math xmlns="http://www.w3.org/1998/Math/MathML"><mover><mi>&#x3BE;</mi><mo>&#x2D9;</mo></mover><mo>=</mo><mi>v</mi></math> </li>
            <li> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mover><mi>v</mi><mo>&#x2D9;</mo></mover><mo>=</mo><mo>-</mo><mi>m</mi><mi>g</mi><mo>+</mo><mi>F</mi></math></li>
            <li><math xmlns="http://www.w3.org/1998/Math/MathML"><mover><mi>R</mi><mo>&#x2D9;</mo></mover><mo>=</mo><mi>R</mi><mo>&#xB7;</mo><msub><mi>&#x3C9;</mi><mo>&#xD7;</mo></msub></math></li>
            <li><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi><mover><mi>&#x3C9;</mi><mo>&#x2D9;</mo></mover><mo>=</mo><msub><mi>&#x393;</mi><mrow><mi>g</mi><mi>y</mi><mi>r</mi><mi>o</mi></mrow></msub><mo>+</mo><mi>&#x393;</mi></math></li>

        </ul>
      </div>
    </br> </br> Where <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&#x3BE;</mi></math> is the position in the global frame,
       <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math> the speed in the global frame,
       <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math> is the attitude of the drone (Euler angles) and
       <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&#x3C9;</mi></math> is the rotational speed of the drone in the frame of the drone.

    <h2>Modeling of the electric motors</h2>
    Since the only way to control the attitude and the motion of the drone is based on controlling the motors, we had to model the behavior of the electric motors.
    In order to do so, we modeled the motors with a first order transfer function and a saturation for the rotational speed of the propellers.

  </br></br><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi><mo>(</mo><mi>p</mi><mo>)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mi>&#x3C4;</mi><mi>p</mi></mrow></mfrac></math>

</br></br> We also had to model the force and the torque generated by each motor. In order to do so, we chose a widespread model expressed by the following formula:
</br></br><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo>=</mo><msub><mi>c</mi><mi>T</mi></msub><mo>&#xB7;</mo><msup><mi>&#x3C9;</mi><mn>2</mn></msup></math> and  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&#x393;</mi><mo>=</mo><msub><mi>c</mi><mi>&#x393;</mi></msub><mo>&#xB7;</mo><msup><mi>&#x3C9;</mi><mn>2</mn></msup></math>

  <h1>Design of the GNC software of the drone</h1>
  <img src="img/drone.png" class="large-image">
  We have used cascaded controllers to control the attitude of drone and the speed and position of the drone.

  <h2> Control of the drone </h2>
  As written previously, we have made the assumption that the electric motors were already controlled.
  This is why we have modeled the motors with a first order transfers function with the rotation speed as the input and as the output of the motors.

  <img class="image"  src="img/motor.png">

  Using the formulas used to model the thrust create by each motor, we can compute the global thrust and the torque created. This is what we have done here:
  <img   src="img/drone-model.png">

  Then, we have used a simple PD controller to control the attitude of the drone by generating adapted torque commands.
  <h2> Guidance of the drone </h2>
  We have used similar PD controllers on the x and the y axis to control the position of the drone by generating adapted angle commands.
</br></br> On the z axis, we have used a PID controller to cancel the static-error inducing effect of gravity. This PID generates adapted thrust commands
  to reach or maintain an altitude.



  <h1>Autonomous navigation</h1>
  <h2> Waypoints</h2>
  After implementing our position controller, the following step was to make the drone follow a list of waypoints.
  In order to do so, we have used a state-flow chart in simulink to generate a trajectory to follow.

  <img class="image" src="img/simulation-drone.gif">

  <h1>Future work</h1>






      </div>











  </div>
</body>
</html>
